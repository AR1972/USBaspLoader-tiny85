GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 1


   1               		.file	"main.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	writeFlashPage, @function
  10               	writeFlashPage:
  11               	/* prologue: function */
  12               	/* frame size = 0 */
  13 0000 8091 0000 		lds r24,needToErase
  14 0004 8823      		tst r24
  15 0006 01F0      		breq .L2
  16 0008 E091 0000 		lds r30,currentAddress
  17 000c F091 0000 		lds r31,(currentAddress)+1
  18 0010 3297      		sbiw r30,2
  19 0012 83E0      		ldi r24,lo8(3)
  20               	/* #APP */
  21               	 ;  138 "main.c" 1
  22 0014 8093 5700 		sts 87, r24
  23 0018 E895      		spm
  24               		
  25               	 ;  0 "" 2
  26               	/* #NOAPP */
  27               	.L3:
  28 001a 07B6      		in __tmp_reg__,87-32
  29 001c 00FC      		sbrc __tmp_reg__,0
  30 001e 00C0      		rjmp .L3
  31               	.L2:
  32 0020 E091 0000 		lds r30,currentAddress
  33 0024 F091 0000 		lds r31,(currentAddress)+1
  34 0028 3297      		sbiw r30,2
  35 002a 85E0      		ldi r24,lo8(5)
  36               	/* #APP */
  37               	 ;  142 "main.c" 1
  38 002c 8093 5700 		sts 87, r24
  39 0030 E895      		spm
  40               		
  41               	 ;  0 "" 2
  42               	/* #NOAPP */
  43               	.L4:
  44 0032 07B6      		in __tmp_reg__,87-32
  45 0034 00FC      		sbrc __tmp_reg__,0
  46 0036 00C0      		rjmp .L4
  47 0038 1092 0000 		sts needToErase,__zero_reg__
  48               	/* epilogue start */
  49 003c 0895      		ret
  50               		.size	writeFlashPage, .-writeFlashPage
  51               		.type	writeWordToPageBuffer, @function
  52               	writeWordToPageBuffer:
  53               	/* prologue: function */
  54               	/* frame size = 0 */
  55 003e AC01      		movw r20,r24
  56 0040 6091 0000 		lds r22,currentAddress
  57 0044 7091 0000 		lds r23,(currentAddress)+1
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 2


  58 0048 6115      		cp r22,__zero_reg__
  59 004a 7105      		cpc r23,__zero_reg__
  60 004c 01F0      		breq .L7
  61 004e 6430      		cpi r22,4
  62 0050 7105      		cpc r23,__zero_reg__
  63 0052 01F0      		breq .L7
  64 0054 34E1      		ldi r19,hi8(5370)
  65 0056 6A3F      		cpi r22,lo8(5370)
  66 0058 7307      		cpc r23,r19
  67 005a 01F4      		brne .L8
  68 005c 8091 0000 		lds r24,checksum
  69 0060 8195      		neg r24
  70 0062 482F      		mov r20,r24
  71 0064 50E0      		ldi r21,lo8(0)
  72 0066 00C0      		rjmp .L9
  73               	.L8:
  74 0068 84E1      		ldi r24,hi8(5372)
  75 006a 6C3F      		cpi r22,lo8(5372)
  76 006c 7807      		cpc r23,r24
  77 006e 01F4      		brne .L10
  78 0070 4091 0000 		lds r20,vectorTemp
  79 0074 5091 0000 		lds r21,(vectorTemp)+1
  80 0078 4E57      		subi r20,lo8(-(1410))
  81 007a 5A4F      		sbci r21,hi8(-(1410))
  82 007c 00C0      		rjmp .L9
  83               	.L10:
  84 007e E4E1      		ldi r30,hi8(5374)
  85 0080 6E3F      		cpi r22,lo8(5374)
  86 0082 7E07      		cpc r23,r30
  87 0084 01F4      		brne .L9
  88 0086 4091 0000 		lds r20,vectorTemp+2
  89 008a 5091 0000 		lds r21,(vectorTemp+2)+1
  90 008e 4D57      		subi r20,lo8(-(1411))
  91 0090 5A4F      		sbci r21,hi8(-(1411))
  92 0092 00C0      		rjmp .L9
  93               	.L7:
  94 0094 4FE7      		ldi r20,lo8(-13697)
  95 0096 5AEC      		ldi r21,hi8(-13697)
  96               	.L9:
  97 0098 242F      		mov r18,r20
  98 009a 30E0      		ldi r19,lo8(0)
  99 009c 250F      		add r18,r21
 100 009e 311D      		adc r19,__zero_reg__
 101 00a0 8091 0000 		lds r24,checksum
 102 00a4 9091 0000 		lds r25,(checksum)+1
 103 00a8 820F      		add r24,r18
 104 00aa 931F      		adc r25,r19
 105 00ac 9093 0000 		sts (checksum)+1,r25
 106 00b0 8093 0000 		sts checksum,r24
 107 00b4 6115      		cp r22,__zero_reg__
 108 00b6 7105      		cpc r23,__zero_reg__
 109 00b8 01F4      		brne .L11
 110 00ba 81E1      		ldi r24,lo8(17)
 111               	/* #APP */
 112               	 ;  182 "main.c" 1
 113 00bc 8093 5700 		sts 87, r24
 114 00c0 E895      		spm
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 3


 115               		
 116               	 ;  0 "" 2
 117               	/* #NOAPP */
 118               	.L11:
 119 00c2 21E0      		ldi r18,lo8(1)
 120 00c4 FB01      		movw r30,r22
 121               	/* #APP */
 122               	 ;  184 "main.c" 1
 123 00c6 0A01      		movw  r0, r20
 124 00c8 2093 5700 		sts 87, r18
 125 00cc E895      		spm
 126 00ce 1124      		clr  r1
 127               		
 128               	 ;  0 "" 2
 129               	 ;  187 "main.c" 1
 130 00d0 8591      		lpm r24, Z+
 131 00d2 9491      		lpm r25, Z
 132               		
 133               	 ;  0 "" 2
 134               	/* #NOAPP */
 135 00d4 8417      		cp r24,r20
 136 00d6 9507      		cpc r25,r21
 137 00d8 01F0      		breq .L12
 138 00da 8F5F      		subi r24,lo8(-1)
 139 00dc 9F4F      		sbci r25,hi8(-1)
 140 00de 01F0      		breq .L12
 141 00e0 2093 0000 		sts needToErase,r18
 142               	.L12:
 143 00e4 6E5F      		subi r22,lo8(-(2))
 144 00e6 7F4F      		sbci r23,hi8(-(2))
 145 00e8 7093 0000 		sts (currentAddress)+1,r23
 146 00ec 6093 0000 		sts currentAddress,r22
 147               	/* epilogue start */
 148 00f0 0895      		ret
 149               		.size	writeWordToPageBuffer, .-writeWordToPageBuffer
 150               		.type	fillFlashWithVectors, @function
 151               	fillFlashWithVectors:
 152 00f2 CF93      		push r28
 153 00f4 DF93      		push r29
 154               	/* prologue: function */
 155               	/* frame size = 0 */
 156 00f6 C091 0000 		lds r28,currentAddress
 157 00fa D091 0000 		lds r29,(currentAddress)+1
 158 00fe CF73      		andi r28,lo8(63)
 159 0100 D070      		andi r29,hi8(63)
 160               	.L15:
 161 0102 8FEF      		ldi r24,lo8(-1)
 162 0104 9FEF      		ldi r25,hi8(-1)
 163 0106 00D0      		rcall writeWordToPageBuffer
 164 0108 2296      		adiw r28,2
 165 010a C034      		cpi r28,64
 166 010c D105      		cpc r29,__zero_reg__
 167 010e 04F0      		brlt .L15
 168 0110 00D0      		rcall writeFlashPage
 169               	/* epilogue start */
 170 0112 DF91      		pop r29
 171 0114 CF91      		pop r28
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 4


 172 0116 0895      		ret
 173               		.size	fillFlashWithVectors, .-fillFlashWithVectors
 174               		.type	eraseApplication, @function
 175               	eraseApplication:
 176               	/* prologue: function */
 177               	/* frame size = 0 */
 178 0118 E0EC      		ldi r30,lo8(5312)
 179 011a F4E1      		ldi r31,hi8(5312)
 180 011c 00C0      		rjmp .L18
 181               	.L20:
 182 011e 83E0      		ldi r24,lo8(3)
 183               	/* #APP */
 184               	 ;  214 "main.c" 1
 185 0120 8093 5700 		sts 87, r24
 186 0124 E895      		spm
 187               		
 188               	 ;  0 "" 2
 189               	/* #NOAPP */
 190               	.L19:
 191 0126 07B6      		in __tmp_reg__,87-32
 192 0128 00FC      		sbrc __tmp_reg__,0
 193 012a 00C0      		rjmp .L19
 194 012c E054      		subi r30,lo8(-(-64))
 195 012e F040      		sbci r31,hi8(-(-64))
 196               	.L18:
 197 0130 3097      		sbiw r30,0
 198 0132 01F4      		brne .L20
 199 0134 1092 0000 		sts (currentAddress)+1,__zero_reg__
 200 0138 1092 0000 		sts currentAddress,__zero_reg__
 201 013c 00D0      		rcall fillFlashWithVectors
 202               	/* epilogue start */
 203 013e 0895      		ret
 204               		.size	eraseApplication, .-eraseApplication
 205               		.section	.init3,"ax",@progbits
 206               	.global	PushMagicWord
 207               		.type	PushMagicWord, @function
 208               	PushMagicWord:
 209               	/* prologue: naked */
 210               	/* frame size = 0 */
 211               	/* #APP */
 212               	 ;  511 "main.c" 1
 213 0000 00EB      		ldi r16, 0xB0
 214               	 ;  0 "" 2
 215               	 ;  512 "main.c" 1
 216 0002 0F93      		push r16
 217               	 ;  0 "" 2
 218               	 ;  513 "main.c" 1
 219 0004 07E0      		ldi r16, 0x07
 220               	 ;  0 "" 2
 221               	 ;  514 "main.c" 1
 222 0006 0F93      		push r16
 223               	 ;  0 "" 2
 224               	/* epilogue start */
 225               	/* #NOAPP */
 226               		.size	PushMagicWord, .-PushMagicWord
 227               		.text
 228               	.global	main
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 5


 229               		.type	main, @function
 230               	main:
 231               	/* prologue: function */
 232               	/* frame size = 0 */
 233 0140 88E1      		ldi r24,lo8(24)
 234               	/* #APP */
 235               	 ;  596 "main.c" 1
 236 0142 0FB6      		in __tmp_reg__, __SREG__
 237 0144 F894      		cli
 238 0146 81BD      		out 33, r24
 239 0148 11BC      		out 33, __zero_reg__
 240 014a 0FBE      		out __SREG__,__tmp_reg__
 241               		
 242               	 ;  0 "" 2
 243               	/* #NOAPP */
 244 014c E0E0      		ldi r30,lo8(0)
 245 014e F0E0      		ldi r31,hi8(0)
 246               	/* #APP */
 247               	 ;  534 "main.c" 1
 248 0150 8591      		lpm r24, Z+
 249 0152 9491      		lpm r25, Z
 250               		
 251               	 ;  0 "" 2
 252               	/* #NOAPP */
 253 0154 8F57      		subi r24,lo8(-13697)
 254 0156 9A4C      		sbci r25,hi8(-13697)
 255 0158 01F4      		brne .L25
 256 015a E4E0      		ldi r30,lo8(4)
 257 015c F0E0      		ldi r31,hi8(4)
 258               	/* #APP */
 259               	 ;  535 "main.c" 1
 260 015e 8591      		lpm r24, Z+
 261 0160 9491      		lpm r25, Z
 262               		
 263               	 ;  0 "" 2
 264               	/* #NOAPP */
 265 0162 8F57      		subi r24,lo8(-13697)
 266 0164 9A4C      		sbci r25,hi8(-13697)
 267 0166 01F0      		breq .L26
 268               	.L25:
 269 0168 00D0      		rcall eraseApplication
 270               	.L26:
 271 016a 1092 0000 		sts (currentAddress)+1,__zero_reg__
 272 016e 1092 0000 		sts currentAddress,__zero_reg__
 273 0172 1092 0000 		sts (checksum)+1,__zero_reg__
 274 0176 1092 0000 		sts checksum,__zero_reg__
 275 017a E0E0      		ldi r30,lo8(0)
 276 017c F0E0      		ldi r31,hi8(0)
 277 017e EE24      		clr r14
 278               	.L27:
 279               	/* #APP */
 280               	 ;  236 "main.c" 1
 281 0180 8491      		lpm r24, Z
 282               		
 283               	 ;  0 "" 2
 284               	/* #NOAPP */
 285 0182 E80E      		add r14,r24
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 6


 286 0184 3196      		adiw r30,1
 287 0186 84E1      		ldi r24,hi8(5371)
 288 0188 EB3F      		cpi r30,lo8(5371)
 289 018a F807      		cpc r31,r24
 290 018c 01F4      		brne .L27
 291 018e AB9A      		sbi 53-32,3
 292 0190 8BB7      		in r24,91-32
 293 0192 8062      		ori r24,lo8(32)
 294 0194 8BBF      		out 91-32,r24
 295 0196 BB9A      		sbi 55-32,3
 296 0198 88E8      		ldi r24,lo8(5000)
 297 019a 93E1      		ldi r25,hi8(5000)
 298               	.L28:
 299 019c ECE9      		ldi r30,lo8(412)
 300 019e F1E0      		ldi r31,hi8(412)
 301               	/* #APP */
 302               	 ;  105 "c:/winavr-20100110/lib/gcc/../../avr/include/util/delay_basic.h" 1
 303 01a0 3197      		1: sbiw r30,1
 304 01a2 01F4      		brne 1b
 305               	 ;  0 "" 2
 306               	/* #NOAPP */
 307 01a4 0197      		sbiw r24,1
 308 01a6 01F4      		brne .L28
 309 01a8 BB98      		cbi 55-32,3
 310               	/* #APP */
 311               	 ;  527 "main.c" 1
 312 01aa 7894      		sei
 313               	 ;  0 "" 2
 314               	/* #NOAPP */
 315 01ac CC24      		clr r12
 316 01ae DD24      		clr r13
 317               	.L105:
 318 01b0 9091 0000 		lds r25,usbRxLen
 319 01b4 9350      		subi r25,lo8(-(-3))
 320 01b6 97FD      		sbrc r25,7
 321 01b8 00C0      		rjmp .L29
 322 01ba 8091 0000 		lds r24,usbInputBufOffset
 323 01be CCE0      		ldi r28,lo8(12)
 324 01c0 D0E0      		ldi r29,hi8(12)
 325 01c2 C81B      		sub r28,r24
 326 01c4 D109      		sbc r29,__zero_reg__
 327 01c6 C050      		subi r28,lo8(-(usbRxBuf))
 328 01c8 D040      		sbci r29,hi8(-(usbRxBuf))
 329 01ca 8091 0000 		lds r24,usbRxToken
 330 01ce 8D32      		cpi r24,lo8(45)
 331 01d0 01F0      		breq .+2
 332 01d2 00C0      		rjmp .L30
 333 01d4 9830      		cpi r25,lo8(8)
 334 01d6 01F0      		breq .+2
 335 01d8 00C0      		rjmp .L31
 336 01da 83EC      		ldi r24,lo8(-61)
 337 01dc 8093 0000 		sts usbTxBuf,r24
 338 01e0 8AE5      		ldi r24,lo8(90)
 339 01e2 8093 0000 		sts usbTxLen,r24
 340 01e6 1092 0000 		sts usbMsgFlags,__zero_reg__
 341 01ea 4881      		ld r20,Y
 342 01ec 842F      		mov r24,r20
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 7


 343 01ee 8076      		andi r24,lo8(96)
 344 01f0 2981      		ldd r18,Y+1
 345 01f2 8823      		tst r24
 346 01f4 01F4      		brne .+2
 347 01f6 00C0      		rjmp .L32
 348 01f8 31E0      		ldi r19,lo8(1)
 349 01fa 3093 0000 		sts connectedToPc,r19
 350 01fe 80E0      		ldi r24,lo8(replyBuffer.1847)
 351 0200 90E0      		ldi r25,hi8(replyBuffer.1847)
 352 0202 9093 0000 		sts (usbMsgPtr)+1,r25
 353 0206 8093 0000 		sts usbMsgPtr,r24
 354 020a 2330      		cpi r18,lo8(3)
 355 020c 01F4      		brne .L33
 356 020e 8A81      		ldd r24,Y+2
 357 0210 8033      		cpi r24,lo8(48)
 358 0212 01F4      		brne .L34
 359 0214 EC81      		ldd r30,Y+4
 360 0216 E370      		andi r30,lo8(3)
 361 0218 F0E0      		ldi r31,lo8(0)
 362 021a E050      		subi r30,lo8(-(signatureBytes))
 363 021c F040      		sbci r31,hi8(-(signatureBytes))
 364 021e E081      		ld r30,Z
 365 0220 00C0      		rjmp .L35
 366               	.L34:
 367 0222 8C3A      		cpi r24,lo8(-84)
 368 0224 01F4      		brne .L36
 369 0226 8B81      		ldd r24,Y+3
 370 0228 8038      		cpi r24,lo8(-128)
 371 022a 01F4      		brne .L36
 372 022c 3093 0000 		sts eraseRequested,r19
 373               	.L36:
 374 0230 E0E0      		ldi r30,lo8(0)
 375               	.L35:
 376 0232 E093 0000 		sts replyBuffer.1847+3,r30
 377 0236 24E0      		ldi r18,lo8(4)
 378 0238 00C0      		rjmp .L37
 379               	.L33:
 380 023a 2530      		cpi r18,lo8(5)
 381 023c 01F4      		brne .L38
 382 023e 21E0      		ldi r18,lo8(1)
 383 0240 00C0      		rjmp .L37
 384               	.L38:
 385 0242 822F      		mov r24,r18
 386 0244 8450      		subi r24,lo8(-(-4))
 387 0246 8630      		cpi r24,lo8(6)
 388 0248 00F4      		brsh .L39
 389 024a 8A81      		ldd r24,Y+2
 390 024c 9B81      		ldd r25,Y+3
 391 024e 9093 0000 		sts (currentAddress)+1,r25
 392 0252 8093 0000 		sts currentAddress,r24
 393 0256 2930      		cpi r18,lo8(9)
 394 0258 01F0      		breq .L40
 395 025a 9E81      		ldd r25,Y+6
 396 025c 9093 0000 		sts bytesRemaining,r25
 397 0260 8D81      		ldd r24,Y+5
 398 0262 8270      		andi r24,lo8(2)
 399 0264 8093 0000 		sts isLastPage,r24
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 8


 400 0268 47FD      		sbrc r20,7
 401 026a 00C0      		rjmp .L42
 402 026c 9FEF      		ldi r25,lo8(-1)
 403 026e 00C0      		rjmp .L42
 404               	.L39:
 405 0270 2230      		cpi r18,lo8(2)
 406 0272 01F4      		brne .L40
 407 0274 3093 0000 		sts requestBootLoaderExit,r19
 408               	.L40:
 409 0278 20E0      		ldi r18,lo8(0)
 410 027a 00C0      		rjmp .L37
 411               	.L32:
 412 027c 8A81      		ldd r24,Y+2
 413 027e 1092 0000 		sts usbTxBuf+9,__zero_reg__
 414 0282 2223      		tst r18
 415 0284 01F4      		brne .L43
 416 0286 1092 0000 		sts usbTxBuf+10,__zero_reg__
 417 028a 80E0      		ldi r24,lo8(usbTxBuf+9)
 418 028c 90E0      		ldi r25,hi8(usbTxBuf+9)
 419 028e 22E0      		ldi r18,lo8(2)
 420 0290 00C0      		rjmp .L44
 421               	.L43:
 422 0292 2530      		cpi r18,lo8(5)
 423 0294 01F4      		brne .L45
 424 0296 8093 0000 		sts usbNewDeviceAddr,r24
 425 029a 00C0      		rjmp .L55
 426               	.L45:
 427 029c 2630      		cpi r18,lo8(6)
 428 029e 01F4      		brne .L46
 429 02a0 8B81      		ldd r24,Y+3
 430 02a2 8130      		cpi r24,lo8(1)
 431 02a4 01F4      		brne .L47
 432 02a6 80E0      		ldi r24,lo8(usbDescriptorDevice)
 433 02a8 90E0      		ldi r25,hi8(usbDescriptorDevice)
 434 02aa 00C0      		rjmp .L106
 435               	.L47:
 436 02ac 8230      		cpi r24,lo8(2)
 437 02ae 01F4      		brne .L49
 438 02b0 80E0      		ldi r24,lo8(usbDescriptorConfiguration)
 439 02b2 90E0      		ldi r25,hi8(usbDescriptorConfiguration)
 440               	.L106:
 441 02b4 9093 0000 		sts (usbMsgPtr)+1,r25
 442 02b8 8093 0000 		sts usbMsgPtr,r24
 443 02bc 22E1      		ldi r18,lo8(18)
 444 02be 00C0      		rjmp .L48
 445               	.L49:
 446 02c0 8330      		cpi r24,lo8(3)
 447 02c2 01F4      		brne .L50
 448 02c4 8A81      		ldd r24,Y+2
 449 02c6 8823      		tst r24
 450 02c8 01F4      		brne .L51
 451 02ca 80E0      		ldi r24,lo8(usbDescriptorString0)
 452 02cc 90E0      		ldi r25,hi8(usbDescriptorString0)
 453 02ce 9093 0000 		sts (usbMsgPtr)+1,r25
 454 02d2 8093 0000 		sts usbMsgPtr,r24
 455 02d6 24E0      		ldi r18,lo8(4)
 456 02d8 00C0      		rjmp .L48
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 9


 457               	.L51:
 458 02da 8130      		cpi r24,lo8(1)
 459 02dc 01F4      		brne .L52
 460 02de 80E0      		ldi r24,lo8(usbDescriptorStringVendor)
 461 02e0 90E0      		ldi r25,hi8(usbDescriptorStringVendor)
 462 02e2 9093 0000 		sts (usbMsgPtr)+1,r25
 463 02e6 8093 0000 		sts usbMsgPtr,r24
 464 02ea 2CE1      		ldi r18,lo8(28)
 465 02ec 00C0      		rjmp .L48
 466               	.L52:
 467 02ee 8230      		cpi r24,lo8(2)
 468 02f0 01F4      		brne .L50
 469 02f2 80E0      		ldi r24,lo8(usbDescriptorStringDevice)
 470 02f4 90E0      		ldi r25,hi8(usbDescriptorStringDevice)
 471 02f6 9093 0000 		sts (usbMsgPtr)+1,r25
 472 02fa 8093 0000 		sts usbMsgPtr,r24
 473 02fe 2EE0      		ldi r18,lo8(14)
 474 0300 00C0      		rjmp .L48
 475               	.L50:
 476 0302 20E0      		ldi r18,lo8(0)
 477               	.L48:
 478 0304 80E4      		ldi r24,lo8(64)
 479 0306 8093 0000 		sts usbMsgFlags,r24
 480 030a 00C0      		rjmp .L37
 481               	.L46:
 482 030c 2830      		cpi r18,lo8(8)
 483 030e 01F4      		brne .L53
 484 0310 80E0      		ldi r24,lo8(usbConfiguration)
 485 0312 90E0      		ldi r25,hi8(usbConfiguration)
 486 0314 00C0      		rjmp .L107
 487               	.L53:
 488 0316 2930      		cpi r18,lo8(9)
 489 0318 01F4      		brne .L54
 490 031a 8093 0000 		sts usbConfiguration,r24
 491 031e 00C0      		rjmp .L55
 492               	.L54:
 493 0320 2A30      		cpi r18,lo8(10)
 494 0322 01F4      		brne .L55
 495 0324 80E0      		ldi r24,lo8(usbTxBuf+9)
 496 0326 90E0      		ldi r25,hi8(usbTxBuf+9)
 497               	.L107:
 498 0328 21E0      		ldi r18,lo8(1)
 499 032a 00C0      		rjmp .L44
 500               	.L55:
 501 032c 80E0      		ldi r24,lo8(usbTxBuf+9)
 502 032e 90E0      		ldi r25,hi8(usbTxBuf+9)
 503 0330 20E0      		ldi r18,lo8(0)
 504               	.L44:
 505 0332 9093 0000 		sts (usbMsgPtr)+1,r25
 506 0336 8093 0000 		sts usbMsgPtr,r24
 507 033a 00C0      		rjmp .L37
 508               	.L42:
 509 033c 80E8      		ldi r24,lo8(-128)
 510 033e 8093 0000 		sts usbMsgFlags,r24
 511 0342 00C0      		rjmp .L56
 512               	.L37:
 513 0344 8F81      		ldd r24,Y+7
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 10


 514 0346 8823      		tst r24
 515 0348 01F4      		brne .L57
 516 034a 9E81      		ldd r25,Y+6
 517 034c 9217      		cp r25,r18
 518 034e 00F0      		brlo .L56
 519               	.L57:
 520 0350 922F      		mov r25,r18
 521               	.L56:
 522 0352 9093 0000 		sts usbMsgLen,r25
 523 0356 00C0      		rjmp .L31
 524               	.L30:
 525 0358 8091 0000 		lds r24,usbMsgFlags
 526 035c 87FF      		sbrs r24,7
 527 035e 00C0      		rjmp .L31
 528 0360 8091 0000 		lds r24,bytesRemaining
 529 0364 092F      		mov r16,r25
 530 0366 8917      		cp r24,r25
 531 0368 00F4      		brsh .L58
 532 036a 082F      		mov r16,r24
 533               	.L58:
 534 036c 801B      		sub r24,r16
 535 036e 8093 0000 		sts bytesRemaining,r24
 536 0372 FF24      		clr r15
 537 0374 8823      		tst r24
 538 0376 01F4      		brne .L59
 539 0378 FF24      		clr r15
 540 037a F394      		inc r15
 541               	.L59:
 542 037c 10E0      		ldi r17,lo8(0)
 543 037e 00C0      		rjmp .L60
 544               	.L67:
 545 0380 8091 0000 		lds r24,currentAddress
 546 0384 9091 0000 		lds r25,(currentAddress)+1
 547 0388 892B      		or r24,r25
 548 038a 01F4      		brne .L61
 549 038c 8881      		ld r24,Y
 550 038e 9981      		ldd r25,Y+1
 551 0390 9093 0000 		sts (vectorTemp)+1,r25
 552 0394 8093 0000 		sts vectorTemp,r24
 553               	.L61:
 554 0398 8091 0000 		lds r24,currentAddress
 555 039c 9091 0000 		lds r25,(currentAddress)+1
 556 03a0 0497      		sbiw r24,4
 557 03a2 01F4      		brne .L62
 558 03a4 8881      		ld r24,Y
 559 03a6 9981      		ldd r25,Y+1
 560 03a8 9093 0000 		sts (vectorTemp+2)+1,r25
 561 03ac 8093 0000 		sts vectorTemp+2,r24
 562               	.L62:
 563 03b0 8091 0000 		lds r24,currentAddress
 564 03b4 9091 0000 		lds r25,(currentAddress)+1
 565 03b8 8A5F      		subi r24,lo8(5370)
 566 03ba 9441      		sbci r25,hi8(5370)
 567 03bc 00F0      		brlo .L63
 568 03be 81E1      		ldi r24,lo8(17)
 569               	/* #APP */
 570               	 ;  428 "main.c" 1
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 11


 571 03c0 8093 5700 		sts 87, r24
 572 03c4 E895      		spm
 573               		
 574               	 ;  0 "" 2
 575               	/* #NOAPP */
 576 03c6 00C0      		rjmp .L64
 577               	.L63:
 578 03c8 1E5F      		subi r17,lo8(-(2))
 579 03ca 8881      		ld r24,Y
 580 03cc 9981      		ldd r25,Y+1
 581 03ce 00D0      		rcall writeWordToPageBuffer
 582 03d0 8091 0000 		lds r24,currentAddress
 583 03d4 9091 0000 		lds r25,(currentAddress)+1
 584 03d8 8F73      		andi r24,lo8(63)
 585 03da 9070      		andi r25,hi8(63)
 586 03dc 892B      		or r24,r25
 587 03de 01F0      		breq .L65
 588 03e0 FF20      		tst r15
 589 03e2 01F0      		breq .L66
 590 03e4 1017      		cp r17,r16
 591 03e6 00F0      		brlo .L66
 592 03e8 8091 0000 		lds r24,isLastPage
 593 03ec 8823      		tst r24
 594 03ee 01F0      		breq .L66
 595               	.L65:
 596 03f0 81E0      		ldi r24,lo8(1)
 597 03f2 8093 0000 		sts flashPageLoaded,r24
 598               	.L66:
 599 03f6 2296      		adiw r28,2
 600               	.L60:
 601 03f8 1017      		cp r17,r16
 602 03fa 00F4      		brsh .+2
 603 03fc 00C0      		rjmp .L67
 604               	.L64:
 605 03fe FF20      		tst r15
 606 0400 01F0      		breq .L31
 607 0402 1092 0000 		sts usbMsgLen,__zero_reg__
 608               	.L31:
 609 0406 1092 0000 		sts usbRxLen,__zero_reg__
 610               	.L29:
 611 040a 8091 0000 		lds r24,usbTxLen
 612 040e 84FF      		sbrs r24,4
 613 0410 00C0      		rjmp .L68
 614 0412 8091 0000 		lds r24,usbMsgLen
 615 0416 8F3F      		cpi r24,lo8(-1)
 616 0418 01F4      		brne .+2
 617 041a 00C0      		rjmp .L68
 618 041c 182F      		mov r17,r24
 619 041e 8930      		cpi r24,lo8(9)
 620 0420 00F0      		brlo .L69
 621 0422 18E0      		ldi r17,lo8(8)
 622               	.L69:
 623 0424 811B      		sub r24,r17
 624 0426 8093 0000 		sts usbMsgLen,r24
 625 042a 8091 0000 		lds r24,usbTxBuf
 626 042e 98E8      		ldi r25,lo8(-120)
 627 0430 8927      		eor r24,r25
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 12


 628 0432 8093 0000 		sts usbTxBuf,r24
 629 0436 1123      		tst r17
 630 0438 01F4      		brne .+2
 631 043a 00C0      		rjmp .L70
 632 043c 8091 0000 		lds r24,usbMsgFlags
 633 0440 87FF      		sbrs r24,7
 634 0442 00C0      		rjmp .L71
 635 0444 8091 0000 		lds r24,bytesRemaining
 636 0448 8117      		cp r24,r17
 637 044a 00F4      		brsh .L72
 638 044c 182F      		mov r17,r24
 639               	.L72:
 640 044e 811B      		sub r24,r17
 641 0450 8093 0000 		sts bytesRemaining,r24
 642 0454 A0E0      		ldi r26,lo8(usbTxBuf+1)
 643 0456 B0E0      		ldi r27,hi8(usbTxBuf+1)
 644 0458 00C0      		rjmp .L73
 645               	.L78:
 646 045a E091 0000 		lds r30,currentAddress
 647 045e F091 0000 		lds r31,(currentAddress)+1
 648               	/* #APP */
 649               	 ;  474 "main.c" 1
 650 0462 8491      		lpm r24, Z
 651               		
 652               	 ;  0 "" 2
 653               	/* #NOAPP */
 654 0464 8C93      		st X,r24
 655 0466 EF2B      		or r30,r31
 656 0468 01F4      		brne .L74
 657 046a 8091 0000 		lds r24,vectorTemp
 658 046e 8C93      		st X,r24
 659               	.L74:
 660 0470 8091 0000 		lds r24,currentAddress
 661 0474 9091 0000 		lds r25,(currentAddress)+1
 662 0478 0197      		sbiw r24,1
 663 047a 01F4      		brne .L75
 664 047c 8091 0000 		lds r24,vectorTemp+1
 665 0480 8C93      		st X,r24
 666               	.L75:
 667 0482 8091 0000 		lds r24,currentAddress
 668 0486 9091 0000 		lds r25,(currentAddress)+1
 669 048a 0497      		sbiw r24,4
 670 048c 01F4      		brne .L76
 671 048e 8091 0000 		lds r24,vectorTemp+2
 672 0492 8C93      		st X,r24
 673               	.L76:
 674 0494 8091 0000 		lds r24,currentAddress
 675 0498 9091 0000 		lds r25,(currentAddress)+1
 676 049c 0597      		sbiw r24,5
 677 049e 01F4      		brne .L77
 678 04a0 8091 0000 		lds r24,vectorTemp+3
 679 04a4 8C93      		st X,r24
 680               	.L77:
 681 04a6 1196      		adiw r26,1
 682 04a8 8091 0000 		lds r24,currentAddress
 683 04ac 9091 0000 		lds r25,(currentAddress)+1
 684 04b0 0196      		adiw r24,1
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 13


 685 04b2 9093 0000 		sts (currentAddress)+1,r25
 686 04b6 8093 0000 		sts currentAddress,r24
 687               	.L73:
 688 04ba 812F      		mov r24,r17
 689 04bc 90E0      		ldi r25,lo8(0)
 690 04be 8050      		subi r24,lo8(-(usbTxBuf+1))
 691 04c0 9040      		sbci r25,hi8(-(usbTxBuf+1))
 692 04c2 A817      		cp r26,r24
 693 04c4 B907      		cpc r27,r25
 694 04c6 01F4      		brne .L78
 695 04c8 00C0      		rjmp .L79
 696               	.L71:
 697 04ca E091 0000 		lds r30,usbMsgPtr
 698 04ce F091 0000 		lds r31,(usbMsgPtr)+1
 699 04d2 86FF      		sbrs r24,6
 700 04d4 00C0      		rjmp .L80
 701 04d6 912F      		mov r25,r17
 702 04d8 A0E0      		ldi r26,lo8(usbTxBuf+1)
 703 04da B0E0      		ldi r27,hi8(usbTxBuf+1)
 704               	.L81:
 705               	/* #APP */
 706               	 ;  504 "usbdrv/usbdrv.c" 1
 707 04dc 8491      		lpm r24, Z
 708               		
 709               	 ;  0 "" 2
 710               	/* #NOAPP */
 711 04de 8D93      		st X+,r24
 712 04e0 3196      		adiw r30,1
 713 04e2 9150      		subi r25,lo8(-(-1))
 714 04e4 01F4      		brne .L81
 715 04e6 00C0      		rjmp .L82
 716               	.L80:
 717 04e8 912F      		mov r25,r17
 718 04ea A0E0      		ldi r26,lo8(usbTxBuf+1)
 719 04ec B0E0      		ldi r27,hi8(usbTxBuf+1)
 720               	.L83:
 721 04ee 8191      		ld r24,Z+
 722 04f0 8D93      		st X+,r24
 723 04f2 9150      		subi r25,lo8(-(-1))
 724 04f4 01F4      		brne .L83
 725               	.L82:
 726 04f6 F093 0000 		sts (usbMsgPtr)+1,r31
 727 04fa E093 0000 		sts usbMsgPtr,r30
 728               	.L79:
 729 04fe 1930      		cpi r17,lo8(9)
 730 0500 00F4      		brsh .L84
 731               	.L70:
 732 0502 80E0      		ldi r24,lo8(usbTxBuf+1)
 733 0504 90E0      		ldi r25,hi8(usbTxBuf+1)
 734 0506 612F      		mov r22,r17
 735 0508 00D0      		rcall usbCrc16Append
 736 050a 612F      		mov r22,r17
 737 050c 6C5F      		subi r22,lo8(-(4))
 738 050e 6C30      		cpi r22,lo8(12)
 739 0510 01F0      		breq .L85
 740 0512 8FEF      		ldi r24,lo8(-1)
 741 0514 8093 0000 		sts usbMsgLen,r24
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 14


 742 0518 00C0      		rjmp .L85
 743               	.L84:
 744 051a 8FEF      		ldi r24,lo8(-1)
 745 051c 8093 0000 		sts usbMsgLen,r24
 746 0520 6EE1      		ldi r22,lo8(30)
 747               	.L85:
 748 0522 6093 0000 		sts usbTxLen,r22
 749               	.L68:
 750 0526 94E1      		ldi r25,lo8(20)
 751               	.L87:
 752 0528 86B3      		in r24,54-32
 753 052a 8871      		andi r24,lo8(24)
 754 052c 01F4      		brne .L86
 755 052e 9150      		subi r25,lo8(-(-1))
 756 0530 01F4      		brne .L87
 757 0532 1092 0000 		sts usbNewDeviceAddr,__zero_reg__
 758 0536 1092 0000 		sts usbDeviceAddr,__zero_reg__
 759               	.L86:
 760 053a 10E0      		ldi r17,lo8(0)
 761 053c 9923      		tst r25
 762 053e 01F4      		brne .L88
 763 0540 11E0      		ldi r17,lo8(1)
 764               	.L88:
 765 0542 8091 0000 		lds r24,wasReset.1692
 766 0546 8117      		cp r24,r17
 767 0548 01F0      		breq .L89
 768 054a 1123      		tst r17
 769 054c 01F4      		brne .L90
 770               	/* #APP */
 771               	 ;  557 "usbdrv/usbdrv.c" 1
 772 054e F894      		cli
 773               	 ;  0 "" 2
 774               	/* #NOAPP */
 775 0550 00D0      		rcall calibrateOscillator
 776               	/* #APP */
 777               	 ;  557 "usbdrv/usbdrv.c" 1
 778 0552 7894      		sei
 779               	 ;  0 "" 2
 780               	/* #NOAPP */
 781               	.L90:
 782 0554 1093 0000 		sts wasReset.1692,r17
 783               	.L89:
 784 0558 8CE9      		ldi r24,lo8(412)
 785 055a 91E0      		ldi r25,hi8(412)
 786               	/* #APP */
 787               	 ;  105 "c:/winavr-20100110/lib/gcc/../../avr/include/util/delay_basic.h" 1
 788 055c 0197      		1: sbiw r24,1
 789 055e 01F4      		brne 1b
 790               	 ;  0 "" 2
 791               	/* #NOAPP */
 792 0560 8091 0000 		lds r24,eraseRequested
 793 0564 8823      		tst r24
 794 0566 01F0      		breq .L91
 795 0568 8AE3      		ldi r24,lo8(8250)
 796 056a 90E2      		ldi r25,hi8(8250)
 797               	/* #APP */
 798               	 ;  105 "c:/winavr-20100110/lib/gcc/../../avr/include/util/delay_basic.h" 1
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 15


 799 056c 0197      		1: sbiw r24,1
 800 056e 01F4      		brne 1b
 801               	 ;  0 "" 2
 802               	 ;  556 "main.c" 1
 803 0570 F894      		cli
 804               	 ;  0 "" 2
 805               	/* #NOAPP */
 806 0572 00D0      		rcall eraseApplication
 807               	/* #APP */
 808               	 ;  558 "main.c" 1
 809 0574 7894      		sei
 810               	 ;  0 "" 2
 811               	/* #NOAPP */
 812 0576 1092 0000 		sts (checksum)+1,__zero_reg__
 813 057a 1092 0000 		sts checksum,__zero_reg__
 814 057e 1092 0000 		sts eraseRequested,__zero_reg__
 815               	.L91:
 816 0582 8091 0000 		lds r24,flashPageLoaded
 817 0586 8823      		tst r24
 818 0588 01F0      		breq .L92
 819 058a 8AE3      		ldi r24,lo8(8250)
 820 058c 90E2      		ldi r25,hi8(8250)
 821               	/* #APP */
 822               	 ;  105 "c:/winavr-20100110/lib/gcc/../../avr/include/util/delay_basic.h" 1
 823 058e 0197      		1: sbiw r24,1
 824 0590 01F4      		brne 1b
 825               	 ;  0 "" 2
 826               	 ;  568 "main.c" 1
 827 0592 F894      		cli
 828               	 ;  0 "" 2
 829               	/* #NOAPP */
 830 0594 8091 0000 		lds r24,currentAddress
 831 0598 9091 0000 		lds r25,(currentAddress)+1
 832 059c 8F73      		andi r24,lo8(63)
 833 059e 9070      		andi r25,hi8(63)
 834 05a0 892B      		or r24,r25
 835 05a2 01F0      		breq .L93
 836 05a4 00D0      		rcall fillFlashWithVectors
 837 05a6 00C0      		rjmp .L94
 838               	.L93:
 839 05a8 00D0      		rcall writeFlashPage
 840               	.L94:
 841               	/* #APP */
 842               	 ;  575 "main.c" 1
 843 05aa 7894      		sei
 844               	 ;  0 "" 2
 845               	/* #NOAPP */
 846 05ac 1092 0000 		sts flashPageLoaded,__zero_reg__
 847 05b0 8091 0000 		lds r24,isLastPage
 848 05b4 8823      		tst r24
 849 05b6 01F0      		breq .L92
 850 05b8 8091 0000 		lds r24,currentAddress
 851 05bc 9091 0000 		lds r25,(currentAddress)+1
 852 05c0 9093 0000 		sts (writeSize)+1,r25
 853 05c4 8093 0000 		sts writeSize,r24
 854 05c8 81E0      		ldi r24,lo8(1)
 855 05ca 8093 0000 		sts appWriteComplete,r24
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 16


 856               	.L92:
 857 05ce 8091 0000 		lds r24,requestBootLoaderExit
 858 05d2 8823      		tst r24
 859 05d4 01F4      		brne .L95
 860 05d6 0894      		sec
 861 05d8 C11C      		adc r12,__zero_reg__
 862 05da D11C      		adc r13,__zero_reg__
 863 05dc EE20      		tst r14
 864 05de 01F0      		breq .+2
 865 05e0 00C0      		rjmp .L105
 866 05e2 8091 0000 		lds r24,connectedToPc
 867 05e6 8823      		tst r24
 868 05e8 01F0      		breq .+2
 869 05ea 00C0      		rjmp .L105
 870 05ec 81E5      		ldi r24,lo8(-15535)
 871 05ee C816      		cp r12,r24
 872 05f0 83EC      		ldi r24,hi8(-15535)
 873 05f2 D806      		cpc r13,r24
 874 05f4 00F4      		brsh .+2
 875 05f6 00C0      		rjmp .L105
 876               	.L95:
 877 05f8 82E2      		ldi r24,lo8(-24286)
 878 05fa 91EA      		ldi r25,hi8(-24286)
 879               	/* #APP */
 880               	 ;  105 "c:/winavr-20100110/lib/gcc/../../avr/include/util/delay_basic.h" 1
 881 05fc 0197      		1: sbiw r24,1
 882 05fe 01F4      		brne 1b
 883               	 ;  0 "" 2
 884               	 ;  256 "main.c" 1
 885 0600 F894      		cli
 886               	 ;  0 "" 2
 887               	/* #NOAPP */
 888 0602 1BBE      		out 91-32,__zero_reg__
 889 0604 15BA      		out 53-32,__zero_reg__
 890 0606 8091 0000 		lds r24,appWriteComplete
 891 060a 8823      		tst r24
 892 060c 01F0      		breq .L97
 893 060e 8091 0000 		lds r24,writeSize
 894 0612 9091 0000 		lds r25,(writeSize)+1
 895 0616 9093 0000 		sts (currentAddress)+1,r25
 896 061a 8093 0000 		sts currentAddress,r24
 897 061e 00C0      		rjmp .L98
 898               	.L99:
 899 0620 00D0      		rcall fillFlashWithVectors
 900               	.L98:
 901 0622 8091 0000 		lds r24,currentAddress
 902 0626 9091 0000 		lds r25,(currentAddress)+1
 903 062a 8050      		subi r24,lo8(5376)
 904 062c 9541      		sbci r25,hi8(5376)
 905 062e 00F0      		brlo .L99
 906               	.L97:
 907 0630 E0E0      		ldi r30,lo8(0)
 908 0632 F0E0      		ldi r31,hi8(0)
 909 0634 90E0      		ldi r25,lo8(0)
 910               	.L100:
 911               	/* #APP */
 912               	 ;  236 "main.c" 1
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 17


 913 0636 8491      		lpm r24, Z
 914               		
 915               	 ;  0 "" 2
 916               	/* #NOAPP */
 917 0638 980F      		add r25,r24
 918 063a 3196      		adiw r30,1
 919 063c 84E1      		ldi r24,hi8(5371)
 920 063e EB3F      		cpi r30,lo8(5371)
 921 0640 F807      		cpc r31,r24
 922 0642 00F0      		brlo .L100
 923 0644 9923      		tst r25
 924 0646 01F4      		brne .L101
 925               	.L102:
 926 0648 1092 5F02 		sts 607,__zero_reg__
 927 064c 1092 5E02 		sts 606,__zero_reg__
 928               	/* #APP */
 929               	 ;  287 "main.c" 1
 930 0650 00C0      		rjmp __vectors - 4
 931               	 ;  0 "" 2
 932               	/* #NOAPP */
 933               	.L101:
 934               	/* #APP */
 935               	 ;  278 "main.c" 1
 936 0652 00C0      		rjmp __vectors
 937               	 ;  0 "" 2
 938               	/* #NOAPP */
 939 0654 00C0      		rjmp .L102
 940               		.size	main, .-main
 941               	.global	usbTxLen
 942               		.data
 943               		.type	usbTxLen, @object
 944               		.size	usbTxLen, 1
 945               	usbTxLen:
 946 0000 5A        		.byte	90
 947               	.global	usbDescriptorString0
 948               		.section	.progmem.data,"a",@progbits
 949               		.type	usbDescriptorString0, @object
 950               		.size	usbDescriptorString0, 4
 951               	usbDescriptorString0:
 952 0000 04        		.byte	4
 953 0001 03        		.byte	3
 954 0002 09        		.byte	9
 955 0003 04        		.byte	4
 956               	.global	usbDescriptorStringVendor
 957               		.type	usbDescriptorStringVendor, @object
 958               		.size	usbDescriptorStringVendor, 28
 959               	usbDescriptorStringVendor:
 960 0004 1C03      		.word	796
 961 0006 7700      		.word	119
 962 0008 7700      		.word	119
 963 000a 7700      		.word	119
 964 000c 2E00      		.word	46
 965 000e 6600      		.word	102
 966 0010 6900      		.word	105
 967 0012 7300      		.word	115
 968 0014 6300      		.word	99
 969 0016 6800      		.word	104
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 18


 970 0018 6C00      		.word	108
 971 001a 2E00      		.word	46
 972 001c 6400      		.word	100
 973 001e 6500      		.word	101
 974               	.global	usbDescriptorStringDevice
 975               		.type	usbDescriptorStringDevice, @object
 976               		.size	usbDescriptorStringDevice, 14
 977               	usbDescriptorStringDevice:
 978 0020 0E03      		.word	782
 979 0022 5500      		.word	85
 980 0024 5300      		.word	83
 981 0026 4200      		.word	66
 982 0028 6100      		.word	97
 983 002a 7300      		.word	115
 984 002c 7000      		.word	112
 985               	.global	usbDescriptorDevice
 986               		.type	usbDescriptorDevice, @object
 987               		.size	usbDescriptorDevice, 18
 988               	usbDescriptorDevice:
 989 002e 12        		.byte	18
 990 002f 01        		.byte	1
 991 0030 10        		.byte	16
 992 0031 01        		.byte	1
 993 0032 FF        		.byte	-1
 994 0033 00        		.byte	0
 995 0034 00        		.byte	0
 996 0035 08        		.byte	8
 997 0036 C0        		.byte	-64
 998 0037 16        		.byte	22
 999 0038 DC        		.byte	-36
 1000 0039 05        		.byte	5
 1001 003a 02        		.byte	2
 1002 003b 01        		.byte	1
 1003 003c 01        		.byte	1
 1004 003d 02        		.byte	2
 1005 003e 00        		.byte	0
 1006 003f 01        		.byte	1
 1007               	.global	usbDescriptorConfiguration
 1008               		.type	usbDescriptorConfiguration, @object
 1009               		.size	usbDescriptorConfiguration, 18
 1010               	usbDescriptorConfiguration:
 1011 0040 09        		.byte	9
 1012 0041 02        		.byte	2
 1013 0042 12        		.byte	18
 1014 0043 00        		.byte	0
 1015 0044 01        		.byte	1
 1016 0045 01        		.byte	1
 1017 0046 00        		.byte	0
 1018 0047 80        		.byte	-128
 1019 0048 32        		.byte	50
 1020 0049 09        		.byte	9
 1021 004a 04        		.byte	4
 1022 004b 00        		.byte	0
 1023 004c 00        		.byte	0
 1024 004d 00        		.byte	0
 1025 004e 00        		.byte	0
 1026 004f 00        		.byte	0
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 19


 1027 0050 00        		.byte	0
 1028 0051 00        		.byte	0
 1029               		.lcomm connectedToPc,1
 1030               		.lcomm checksum,2
 1031               		.lcomm needToErase,1
 1032               		.data
 1033               		.type	usbMsgLen, @object
 1034               		.size	usbMsgLen, 1
 1035               	usbMsgLen:
 1036 0001 FF        		.byte	-1
 1037               		.type	signatureBytes, @object
 1038               		.size	signatureBytes, 4
 1039               	signatureBytes:
 1040 0002 1E        		.byte	30
 1041 0003 93        		.byte	-109
 1042 0004 0B        		.byte	11
 1043 0005 00        		.byte	0
 1044               		.lcomm eraseRequested,1
 1045               		.lcomm replyBuffer.1847,4
 1046               		.lcomm flashPageLoaded,1
 1047               		.lcomm wasReset.1692,1
 1048               		.lcomm appWriteComplete,1
 1049               		.lcomm usbMsgFlags,1
 1050               		.lcomm writeSize,2
 1051               		.lcomm vectorTemp,4
 1052               		.lcomm requestBootLoaderExit,1
 1053               		.lcomm currentAddress,2
 1054               		.lcomm bytesRemaining,1
 1055               		.lcomm isLastPage,1
 1056               		.comm usbMsgPtr,2,1
 1057               		.comm usbRxToken,1,1
 1058               		.comm usbConfiguration,1,1
 1059               		.comm usbRxBuf,22,1
 1060               		.comm usbInputBufOffset,1,1
 1061               		.comm usbDeviceAddr,1,1
 1062               		.comm usbNewDeviceAddr,1,1
 1063               		.comm usbRxLen,1,1
 1064               		.comm usbCurrentTok,1,1
 1065               		.comm usbTxBuf,11,1
 1066               	.global __do_copy_data
 1067               	.global __do_clear_bss
GAS LISTING C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:2      *ABS*:0000003f __SREG__
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:3      *ABS*:0000003e __SP_H__
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:4      *ABS*:0000003d __SP_L__
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:5      *ABS*:00000034 __CCP__
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:7      *ABS*:00000001 __zero_reg__
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:10     .text:00000000 writeFlashPage
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1030   .bss:00000003 needToErase
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1052   .bss:00000014 currentAddress
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:52     .text:0000003e writeWordToPageBuffer
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1029   .bss:00000001 checksum
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1050   .bss:0000000f vectorTemp
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:151    .text:000000f2 fillFlashWithVectors
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:175    .text:00000118 eraseApplication
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:208    .init3:00000000 PushMagicWord
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:230    .text:00000140 main
                            *COM*:00000001 usbRxLen
                            *COM*:00000001 usbInputBufOffset
                            *COM*:00000016 usbRxBuf
                            *COM*:00000001 usbRxToken
                            *COM*:0000000b usbTxBuf
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:945    .data:00000000 usbTxLen
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1048   .bss:0000000c usbMsgFlags
                             .bss:00000000 connectedToPc
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1044   .bss:00000005 replyBuffer.1847
                            *COM*:00000002 usbMsgPtr
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1039   .data:00000002 signatureBytes
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1031   .bss:00000004 eraseRequested
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1053   .bss:00000016 bytesRemaining
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1054   .bss:00000017 isLastPage
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1051   .bss:00000013 requestBootLoaderExit
                            *COM*:00000001 usbNewDeviceAddr
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:988    .progmem.data:0000002e usbDescriptorDevice
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1010   .progmem.data:00000040 usbDescriptorConfiguration
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:951    .progmem.data:00000000 usbDescriptorString0
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:959    .progmem.data:00000004 usbDescriptorStringVendor
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:977    .progmem.data:00000020 usbDescriptorStringDevice
                            *COM*:00000001 usbConfiguration
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1035   .data:00000001 usbMsgLen
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1045   .bss:00000009 flashPageLoaded
                            *COM*:00000001 usbDeviceAddr
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1046   .bss:0000000a wasReset.1692
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1049   .bss:0000000d writeSize
C:\Users\Louis\AppData\Local\Temp/ccfXnLon.s:1047   .bss:0000000b appWriteComplete
                            *COM*:00000001 usbCurrentTok

UNDEFINED SYMBOLS
usbCrc16Append
calibrateOscillator
__vectors
__do_copy_data
__do_clear_bss
